<header class="fixed top-0 left-0 right-0 z-50"
        [attr.dir]="currentLang() === 'ar' ? 'rtl' : 'ltr'"
        [ngClass]="isScrolled() ? '' : ''">

  <!-- Main Header -->
  <div class="transition-all duration-300"
       [ngClass]="isScrolled() ? 'bg-white ' : ''">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between">
        <!-- Logo -->
        <a routerLink="/" class="flex items-center space-x-3 rtl:space-x-reverse">
          <img src="assets/images/sned.svg"
               alt="sned_logo"
               class="h-24 w-auto sm:h-22">
        </a>

        <!-- Menu -->
        <nav class="hidden lg:flex items-center space-x-1 rtl:space-x-reverse">
          <div *ngFor="let section of menuSections" class="flex space-x-1 rtl:space-x-reverse">
            <div *ngFor="let item of section.items" class="relative group whitespace-nowrap inline-flex">

              <!-- Item simple -->
              <a *ngIf="!item.children"
                 [routerLink]="item.route || '/'"
                 class="px-4 py-2 font-medium rounded-lg transition-all duration-200"
                 [ngClass]="isScrolled()
                  ? 'text-[var(--sned-blue-dark)] hover:text-[var(--sned-orange-dark)] hover:bg-[var(--sned-orange-light)]/20'
                  : 'text-white hover:text-[var(--sned-orange)] hover:bg-white'">
                {{ item.label }}
              </a>

              <!-- Item avec children (dropdown) -->
              <div *ngIf="item.children" class="inline-flex whitespace-nowrap">
                <button
                  class="px-4 py-2 font-medium rounded-lg transition-all duration-200 flex items-center gap-1"
                  [ngClass]="isScrolled()
                    ? 'text-[var(--sned-blue-dark)] hover:text-[var(--sned-orange-dark)] hover:bg-[var(--sned-orange-light)]/20'
                    : 'text-white hover:text-[var(--sned-orange)] hover:bg-white'">
                  {{ item.label }}
                  <span class="text-xs">▼</span>
                </button>
                <!-- Sous-menu -->
                <div class="absolute hidden group-hover:block bg-white shadow-lg rounded-lg mt-2 min-w-[220px] z-50 left-0 rtl:right-0 rtl:left-auto">
                  <a *ngFor="let child of item.children"
                     [routerLink]="child.route || '/'"
                     class="block px-4 py-2 text-[var(--sned-blue-dark)] hover:bg-[var(--sned-blue-light)]/10 whitespace-nowrap rtl:text-right">
                    {{ child.label }}
                  </a>
                </div>
              </div>

            </div>
          </div>
        </nav>

      </div>
    </div>
  </div>
  <!-- Subheader -->
  <div class=" text-white text-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center py-2">
        <!-- Lang switcher -->
        <div class="flex items-center space-x-2 rtl:space-x-reverse">
          <button *ngFor="let lang of languages"
                  (click)="switchLanguage(lang.code)"
                  class="cursor-pointer p-1 rounded-full transition-all duration-200 flex items-center"
                  [ngClass]="currentLang() === lang.code
            ? 'ring-2 ring-[var(--sned-orange)] bg-[var(--sned-orange-light)]/20'
            : 'hover:bg-[var(--sned-orange-light)]/30'">
            <img [src]="lang.flag" [alt]="lang.label" class="w-6 h-6 rounded-full shadow-sm" />
          </button>
        </div>

        <!-- Contact -->
<!--        <div class="flex items-center space-x-6 rtl:space-x-reverse">-->
<!--          <span class="opacity-90 hover:opacity-100 text-[var(&#45;&#45;sned-blue-dark)]">+212 5 37 77 77 77</span>-->
<!--          <div class="flex items-center space-x-2 rtl:space-x-reverse opacity-90 hover:opacity-100 text-[var(&#45;&#45;sned-blue-dark)]">-->
<!--            <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 20 20">-->
<!--              <path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"/>-->
<!--              <path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"/>-->
<!--            </svg>-->
<!--            <span>contact&#64;sned.ma</span>-->
<!--          </div>-->
<!--        </div>-->
      </div>
    </div>
  </div>

</header>

<!-- Hero unique -->
<section class="relative h-screen text-white flex items-center bg-cover bg-center"
         [style.background-image]="!isVideoPlaying ? 'url(assets/images/pont.jpg)' : ''">

  <!-- Vidéo quand active -->
  <video *ngIf="isVideoPlaying" autoplay muted loop playsinline
         class="absolute inset-0 w-full h-full object-cover z-0">
    <source src="assets/videos/background.mp4" type="video/mp4" />
  </video>

  <!-- Overlay -->
  <div class="absolute inset-0 bg-black/50 z-0"></div>

  <!-- Loader -->
  <div *ngIf="!isVideoPlaying" class="absolute inset-0 flex items-center justify-center z-10">
    <app-loader></app-loader>
  </div>

  <!-- Texte -->
  <div class="relative z-20 max-w-2xl px-6 sm:px-12 mt-32">
    <h2 class="text-2xl sm:text-4xl font-bold mb-4">Découvrez le projet SNED</h2>
    <p class="mb-6 text-gray-200">Une liaison fixe pour rapprocher les continents</p>
    <button (click)="playVideo()"
            class="px-6 py-3 bg-[var(--sned-orange)] text-white font-semibold rounded-full shadow-md hover:bg-[var(--sned-orange-dark)] transition">
      ▶ Voir la vidéo
    </button>
  </div>
</section>
